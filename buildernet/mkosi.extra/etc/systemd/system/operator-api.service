[Unit]
Description=Operator API
Wants=network-online.target
After=network.target network-online.target render-config.service

[Service]
Type=exec
User=operator-api
SupplementaryGroups=rbuilder
ConfigurationDirectory=operator-api::ro
StateDirectory=persistent/operator-api
RuntimeDirectory=operator-api
ExecStart=/usr/bin/operator-api --config %S/persistent/operator-api/config.toml

# TODO: start after persistent is mounted

#CapabilityBoundingSet=
#RestrictAddressFamilies=AF_INET AF_INET6
#SystemCallArchitectures=native
#LockPersonality=yes
#MemoryDenyWriteExecute=yes
#PrivateDevices=yes
#PrivateUsers=yes
#ProtectControlGroups=yes
#ProtectHome=yes
#ProtectHostname=yes
#ProtectKernelLogs=yes
#ProtectKernelModules=yes
#ProtectKernelTunables=yes
#RestrictNamespaces=yes
#RestrictRealtime=yes
#SystemCallFilter=~@privileged
#SystemCallFilter=@system-service
